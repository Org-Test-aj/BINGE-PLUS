const movies = [
    {
        "title": "Kill",
        "details": "720p | 1080p",
        "description": "Watch a Action Movie from Bollywood with R-rating, lots of blood and actions on the way with excellent Acting.",
        "rating": "8.5/10",
        "image": "https://images.cnbctv18.com/uploads/2024/07/kill-2024-07-e5d196ca51e467a80627e93b652a6b42-1019x573.jpg",
        "link": "movie_detail.html?title=Kill",
        "trailer": "https://www.youtube.com/watch?v=y2HZqeVeBNc&pp=ygUEa2lsbA%3D%3D", // Example trailer link for "Kill"
        "releaseDate": "2024-07-10",
        "genre": "Horror-Comedy",
        "director": "Aditya Sarpotdar",
        "cast": [
            "Kunal Khemu",
            "Shweta Tripathi",
            "Vikrant Massey",
            "Pooja Gor"
        ]
    },
    {
        "title": "Phir Aayi Haseen Dilruba",
        "details": "720p | 1080p",
        "description": "While evading the cops in Agra, Rani and Rishu scheme to run away together. But when their plans go awry, Rani asks a mild-mannered admirer for help.",
        "rating": "8.5/10",
        "image": "https://www.koimoi.com/wp-content/new-galleries/2024/07/all-you-need-to-know-about-phir-aayi-hasseen-dillruba-01.jpg",
        "link": "movie_detail.html?title=Phir Aayi Haseen Dilruba",
        "trailer": "https://www.youtube.com/watch?v=ATGQdcN4UBs&pp=ygUhcGhpciBhYXlpIGhhc2VlbiBkaWxscnViYSB0cmFpbGVy",
        "releaseDate": "2024-07-10",
        "genre": "Horror-Comedy",
        "director": "Aditya Sarpotdar",
        "cast": [
            "Kunal Khemu",
            "Shweta Tripathi",
            "Vikrant Massey",
            "Pooja Gor"
        ]

    },
    {
        "title": "Gyaarah Gyaarah",
        "details": "720p | 1080p",
        "description": "Investigative drama following events in 1990, 2001, 2016. Intertwining storylines blending mysticism, science and mystery across the decades.",
        "rating": "8.3/10",
        "image": "https://m.media-amazon.com/images/M/MV5BY2JiOTlhYTUtZTk5Zi00MjA1LTkxYmQtOTgyODJmNmJmYmZlXkEyXkFqcGc@._V1_QL75_UX500_CR0,304,500,281_.jpg",
        "link": "movie_detail.html?title=Gyaarah Gyaarah",
        "trailer": "https://youtu.be/qssOLOr5i4c",
        "releaseDate": "2024-07-10",
        "genre": "Horror-Comedy",
        "director": "Aditya Sarpotdar",
        "cast": [
            "Kunal Khemu",
            "Shweta Tripathi",
            "Vikrant Massey",
            "Pooja Gor"
        ]
    },
    {
        "title": "Life Hill Gayi",
        "details": "720p | 1080p",
        "description": "Siblings turns rivals when they are put on an inheritance race by reviving a down-in-the-dumps hotel in the hills. Who will emerge victorious?",
        "rating": "8.2/10",
        "image": "https://static.tnn.in/thumb/msid-111693274,thumbsize-50298,width-1280,height-720,resizemode-75/111693274.jpg?quality=100",
        "link": "movie_detail.html?title=Life Hill Gayi",
        "trailer": "https://www.youtube.com/watch?v=7V77GFLdKpE&pp=ygUPbGlmZSBoaWxsIEdheWkg",
        "releaseDate": "2024-07-10",
        "genre": "Horror-Comedy",
        "director": "Aditya Sarpotdar",
        "cast": [
            "Kunal Khemu",
            "Shweta Tripathi",
            "Vikrant Massey",
            "Pooja Gor"
        ]
    },
    {
        "title": "kakuda",
        "details": "720p | 1080p",
        "description": "This horror-comedy film follows a town trapped in time by a curse and 3 of its inhabitants face a ghost that makes them question superstition, tradition and love.",
        "rating": "7.0/10",
        "image": "https://img.theweek.in/content/dam/week/week/review/movies/images/2024/7/11/Kakuda.jpg",
        "link": "movie_detail.html?title=kakuda",
        "trailer": "https://www.youtube.com/watch?v=5V8Z3h9oVMc&pp=ygUGa2FrdWRh",
        "releaseDate": "2024-07-10",
        "genre": "Horror-Comedy",
        "director": "Aditya Sarpotdar",
        "cast": [
            "Kunal Khemu",
            "Shweta Tripathi",
            "Vikrant Massey",
            "Pooja Gor"
        ]
    },
    {
        "title": "Deadpool & Wolverine",
        "details": "720p | 1080p",
        "description": "Deadpool is being chased by the TVA and he needs to find a variant of wolverine to save his timeline",
        "rating": "7.0/10",
        "image": "https://www.google.com/imgres?q=deadpool%203%20poster&imgurl=http%3A%2F%2Fwww.impawards.com%2F2024%2Fposters%2Fdeadpool_and_wolverine_ver11_xlg.jpg&imgrefurl=http%3A%2F%2Fwww.impawards.com%2F2024%2Fdeadpool_and_wolverine_ver11_xlg.html&docid=Tih6zig6bZRwSM&tbnid=FoVN8s-yFP2BOM&vet=12ahUKEwivjvaQpYqIAxUgUGcHHdRrOfcQM3oFCIEBEAA..i&w=1080&h=1080&hcb=2&ved=2ahUKEwivjvaQpYqIAxUgUGcHHdRrOfcQM3oFCIEBEAA",
        "link": "movie_detail.html?title=Deadpool3",
        "trailer": "https://www.youtube.com/watch?v=73_1biulkYk",
        "releaseDate": "2024-07-26",
        "genre": "Sci-fi , Comedy",
        "director": "Shawn Levy",
        "cast": [
            "Ryan Reynolds",
            "Hugh Jackman",
            "Emma Corin",
            "Matthew Macfadyen"
        ]
    },

];

function getMovieByTitle(title) {
    return movies.find(movie => movie.title === title);
}

function displayMovieDetails(movie) {
    const container = document.getElementById("movie-details-container");
    let linkHtml = '';
    if (movie.link) {
        linkHtml = `<a href="${movie.link}" class="movie-detail-link">Visit Movie Site</a>`;
    }
    let trailerHtml = '';
    if (movie.trailer) {
        trailerHtml = `<a href="${movie.trailer}" class="movie-detail-link" target="_blank">Watch Trailer</a>`;
    }
    let castHtml = '';
    if (movie.cast +'') {
        castHtml = `<div class="movie-detail-cast"><strong>Cast:</strong> ${movie.cast.join(', ')}</div>`;
    }
    container.innerHTML = `
        <div class="movie-detail-card">
            <img src="${movie.image}" alt="${movie.title}" class="movie-detail-image">
            <div class="movie-detail-info">
                <h1 class="movie-detail-title">${movie.title}</h1>
                <div class="movie-detail-details">${movie.details}</div>
                <div class="movie-detail-description">${movie.description}</div>
                <div class="movie-detail-rating">Rating: ${movie.rating}</div>
                <div class ="movie-release-date">Release Date: ${movie.releaseDate}</div>
                <div class="movie-detail-cast"> ${castHtml}</div>
                <div class="movie-detail-genre">Genre: ${movie.genre}</div>
                <div class="movie-detail-director">Director:${movie.director}</div>
                ${linkHtml}
                ${trailerHtml}
            </div>
        </div>
    `;
}

// function displayMovieDetails(movie) {
//     const container = document.getElementById("movie-details-container");
//     let linkHtml = '';
//     if (movie.link) {
//         linkHtml = `<a href="${movie.link}" class="movie-detail-link" target="_blank">Visit Movie Site</a>`;
//     }
//     let trailerHtml = '';
//     if (movie.trailer) {
//         trailerHtml = `<a href="${movie.trailer}" class="movie-detail-link" target="_blank">Watch Trailer</a>`;
//     }
//     let castHtml = '';
//     if (movie.cast && movie.cast.length > 0) {
//         castHtml = `<div class="movie-detail-cast"><strong>Cast:</strong> ${movie.cast.join(', ')}</div>`;
//     }
//     container.innerHTML = `
//         <div class="movie-detail-card">
//             <div class="movie-detail-header">
//                 <h1 class="movie-detail-title">${movie.title}</h1>
//                 <div class="movie-detail-rating">Rating: ${movie.rating}</div>
//                 <div class="movie-detail-release-date">Release Date: ${movie.releaseDate}</div>
//                 <div class="movie-detail-genre">Genre: ${movie.genre}</div>
//                 <div class="movie-detail-director">Director: ${movie.director}</div>
//                 <div class="movie-detail-duration">Duration: ${castHtml}</div>
//             </div>
//             <div class="movie-detail-content">
//                 <img src="${movie.image}" alt="${movie.title}" class="movie-detail-image">
//                 <div class="movie-detail-info">
//                     <div class="movie-detail-details">${movie.details}</div>
//                     <div class="movie-detail-description">${movie.description}</div>
//                     ${castHtml}
//                 </div>
//             </div>
//             <div class="movie-detail-footer">
//                 ${linkHtml}
//                 ${trailerHtml}
//             </div>
//         </div>
//     `;
// }

function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

document.addEventListener("DOMContentLoaded", function() {
    const title = getQueryParam("title");
    const movie = getMovieByTitle(title);
    if (movie) {
        displayMovieDetails(movie);
    } else {
        document.getElementById("movie-details-container").innerHTML = "<p>Movie not found.</p>";
    }
});
